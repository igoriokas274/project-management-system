<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:replace="layout :: head">
</head>
<title>Admin Panel</title>
<body>
<div th:replace="layout :: vertical_navbar"></div>

<div class="page-content p-5">
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <h3><span class="material-icons-outlined">admin_panel_settings</span> Admin Panel / List of Users / Create User</h3>
            </div>
            <div class="col d-flex justify-content-end">
                <a th:href="@{/adminpanel/users/list}" class="btn btn-link" data-bs-toggle="tooltip" data-bs-placement="top" title="List Users">
                    <i class="material-icons-outlined md-36">list</i></a>
            </div>
        </div>
        <hr>
        <p>
            Welcome Back <span sec:authentication="principal.username"> Admin </span>!
        </p>
        <hr>
    </div>
    <div>
        <form class="form-signin" th:action="@{/adminpanel/users/save}" th:object="${userAccount}" method="post" >
            <input type="hidden" th:field="*{userId}" />
            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <input type="text" class="form-control" th:field="*{userName}" placeholder="Username" required/>
                    <!--<span th:if="${#fields.hasErrors('userName')}" th:errors="${userAccount.userName}"></span>-->
                    <div class="invalid-feedback">Please choose a username</div>
                    <div class="valid-feedback">Looks good!</div>
                </div>
                <div class="col-md-4 mb-3">
                    <input type="password" class="form-control" th:field="*{password}" placeholder="Password" required/>
                    <!--<span th:if="${#fields.hasErrors('password')}" th:errors="${userAccount.password}"></span>-->
                    <div class="invalid-feedback">Please choose a username</div>
                    <div class="valid-feedback">Looks good!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <select class="custom-select" th:field="*{role}" required>
                        <option th:each="roles : ${T(dev.sda.team2.pma.enums.UserRoles).values()}"
                                th:value="${roles}" th:text="${roles}"></option>
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid Role
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" th:field="*{enabled}" id="inlineFormCheck"/>
                    <label class="form-check-label" for="inlineFormCheck">
                        Enabled
                    </label>
                </div>
            </div>
            <div class="col-auto">
                <a type="button" class="btn btn-link float-right" th:href="@{/adminpanel/users/list}" data-bs-toggle="tooltip" data-bs-placement="top" title="Close">
                    <i class="material-icons-outlined md-36">close</i></a>
                <button class="btn btn-link float-right" type="submit" data-bs-toggle="tooltip" data-bs-placement="top" title="Save">
                    <i class="material-icons-outlined md-36">save_alt</i></button>
            </div>
        </form>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
        integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
        crossorigin="anonymous"></script>
</body>
</html>
